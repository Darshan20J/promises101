<!DOCTYPE html>
<html>
  <title>Promises 101</title>
  <body>
    <h1>Promises - all with a rejected promise</h1>
    <h2>see results in console</h2>

  </body>
<script>

  (function() {
    const asimplePromise = (delay) => {
     return new Promise((resolve, reject) => {
       if(delay > 4000) {
         reject('too long!, let\'s raise an error')
       }
       setTimeout(() => resolve('resolved after ' + delay + 'ms'), delay );

     });
    }

    Promise.all([asimplePromise(1000), asimplePromise(2000), asimplePromise(3000), asimplePromise(4000), asimplePromise(5000)])
      .then((value) => console.log(value)) // you get the results as an array after all the promises are resolved
      .catch(error => console.log(error))
  })()
</script>
</html>